<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Code (dolmen_loop.Dolmen_loop.Code)</title><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.2.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">dolmen_loop</a> &#x00BB; <a href="../index.html">Dolmen_loop</a> &#x00BB; Code</nav><header class="odoc-preamble"><h1>Module <code><span>Dolmen_loop.Code</span></code></h1></header><nav class="odoc-toc"><ul><li><a href="#exit-codes">Exit codes</a></li><li><a href="#manipulating-error-codes">Manipulating error codes</a></li><li><a href="#special-exit-codes">Special exit codes</a></li><li><a href="#predefined-exit-codes">Predefined exit codes</a></li><li><a href="#exit-code-status">Exit code status</a></li></ul></nav><div class="odoc-content"><h3 id="exit-codes"><a href="#exit-codes" class="anchor"></a>Exit codes</h3><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>An abstraction over exit status.</p><p>Concretely this corresponds to an exit/return code for the binary (in the case of the dolmen binary or solver-like binaries).</p><p>In practice, the exact error code corresponding to a value of this type can be set later. This is useful so that users of the library can decide the codes, and among other things, ensure that error codes are stable.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-hash"><a href="#val-hash" class="anchor"></a><code><span><span class="keyword">val</span> hash : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-equal"><a href="#val-equal" class="anchor"></a><code><span><span class="keyword">val</span> equal : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-compare"><a href="#val-compare" class="anchor"></a><code><span><span class="keyword">val</span> compare : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Usual functions</p></div></div><h3 id="manipulating-error-codes"><a href="#manipulating-error-codes" class="anchor"></a>Manipulating error codes</h3><div class="odoc-spec"><div class="spec value anchored" id="val-init"><a href="#val-init" class="anchor"></a><code><span><span class="keyword">val</span> init : <span>?full:bool <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<a href="#type-t">t</a> * int)</span> list</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Initialise all retcodes with the given association list. All codes that are not present in the list are assigned a arbitrary free return code. If <code>~full</code> is <code>true</code>, and not all retcodes are present in the association list, then this function with raise a <code>Failure _</code> exception.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-create"><a href="#val-create" class="anchor"></a><code><span><span class="keyword">val</span> create : <span>category:string <span class="arrow">&#45;&gt;</span></span> <span>descr:string <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Create a new exit code. The string given is used as a description for the exit code. The create code is active by default.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-descr"><a href="#val-descr" class="anchor"></a><code><span><span class="keyword">val</span> descr : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int * string</span></code></div><div class="spec-doc"><p>Return the actual integer associated to the code,</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-category"><a href="#val-category" class="anchor"></a><code><span><span class="keyword">val</span> category : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Category (used mainly for report documentation).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-errors"><a href="#val-errors" class="anchor"></a><code><span><span class="keyword">val</span> errors : <span>unit <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> list</span></span></code></div><div class="spec-doc"><p>Return the list of all created error exit codes.</p></div></div><h3 id="special-exit-codes"><a href="#special-exit-codes" class="anchor"></a>Special exit codes</h3><div class="odoc-spec"><div class="spec value anchored" id="val-ok"><a href="#val-ok" class="anchor"></a><code><span><span class="keyword">val</span> ok : <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>The <code>0</code> exit code, signalling everything ran fine.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-bug"><a href="#val-bug" class="anchor"></a><code><span><span class="keyword">val</span> bug : <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Unexpected errors. This uses retcode <code>125</code> since this is also what cmdliner uses. This code will not appear in the list returned by <em>rrors</em>.</p></div></div><h3 id="predefined-exit-codes"><a href="#predefined-exit-codes" class="anchor"></a>Predefined exit codes</h3><div class="odoc-spec"><div class="spec value anchored" id="val-generic"><a href="#val-generic" class="anchor"></a><code><span><span class="keyword">val</span> generic : <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Generic exit code.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-limit"><a href="#val-limit" class="anchor"></a><code><span><span class="keyword">val</span> limit : <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parsing"><a href="#val-parsing" class="anchor"></a><code><span><span class="keyword">val</span> parsing : <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Exit code for parsing errors.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-typing"><a href="#val-typing" class="anchor"></a><code><span><span class="keyword">val</span> typing : <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Exit codes for typing errors.</p></div></div><h3 id="exit-code-status"><a href="#exit-code-status" class="anchor"></a>Exit code status</h3><div class="odoc-spec"><div class="spec value anchored" id="val-exit"><a href="#val-exit" class="anchor"></a><code><span><span class="keyword">val</span> exit : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">_</span></span></code></div><div class="spec-doc"><p>Exit with the given code (or abort if the exit code is marked as an abort code).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_abort"><a href="#val-is_abort" class="anchor"></a><code><span><span class="keyword">val</span> is_abort : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Whether an exit code is active.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-abort"><a href="#val-abort" class="anchor"></a><code><span><span class="keyword">val</span> abort : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Make the exit code abort instead of properly exiting.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-error"><a href="#val-error" class="anchor"></a><code><span><span class="keyword">val</span> error : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Make the exit code properly exit.</p></div></div></div></body></html>